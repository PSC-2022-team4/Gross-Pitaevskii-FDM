<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<style type="text/css">
body {
  font: 16px 'Times New Roman', Times, serif;
}
#box1 {
  width:800px;
  margin:10px;
  background: rgb(211, 211, 211);
  border: 1px solid gray;
}
</style>  
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Gross-Pitaevskii-FDM: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Gross-Pitaevskii-FDM
   &#160;<span id="projectnumber">0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('index.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Gross-Pitaevskii-FDM Documentation</div>  </div>
</div><!--header-->

<div class="contents" markdown="1">
  <h1 id="gross-pitaevskii-fdm">Gross-Pitaevskii-FDM</h1>
  <ul>
  <li><a href="#overview">Overview</a><ul>
  <li><a href="#equation">Equation</a></li>
  <li><a href="#physics">Physics</a></li>
  </ul>
  </li>
  <li><a href="#installation">Installation</a><ul>
  <li><a href="#dependencies">Dependencies</a> </li>
  <li><a href="#build">Build</a></li>
  </ul>
  </li>
  <li><a href="#execution">Execution</a><ul>
  <li><a href="#generate-configuration-file">Generate configuration file</a></li>
  <li><a href="#execute-single-condition">Execute single condition</a></li>
  <li><a href="#execute-multiple-conditions-with-mpi">Execute multiple conditions with MPI</a></li>
  <li><a href="#save-data">Save data</a></li>
  <ul>
  <li><a href="#example-results">Example results</a></li>
  </ul>
  <h2 id="overview">Overview</h2>
  <h3 id="equation">Equation</h3>
  <p>The time-dependent Gross-Pitaevskii equation is 
    <img class="fit-picture"
    src="./Gross-Pitaevskii_eqn.png">
  g parameter is correlated to interactions of particles.<br>In this project, the equation is solved numerically with various initial condition, potential values, and g values in a parallel manner.   </p>
  <h3 id="physics">Physics</h3>
  <p>Bose-Einstein condensate(BEC) is a state of matter of a dilute gas of bosons cooled to temperatures very close to absolute zero.<br>Under such conditions, bosons condensate to the same ground state.<br>The Gross-Pitaevskii equation is an approximation model of BEC.<br>In Hartree-Fock approximation, many body equation is turned to one body equation. Also, in the partial-wave analysis, scattering process between each bosons are approximated by the s-wave scattering.<br>** TODO sample image</p>
  <h2 id="installation">Installation</h2>
  <h3 id="dependencies">Dependencies</h3>
  <ul>
  <li>C++ 17 </li>
  <li><a href="https://cmake.org/">Cmake</a> version &gt;= 3.5</li>
  <li><a href="https://github.com/pmodels/mpich">MPICH2</a> </li>
  <li><a href="https://github.com/NVIDIA/cuda-samples">Nvidia CUDA toolkit</a> version == 11.7</li>
  <li><a href="https://github.com/google/googletest">gtest</a></li>
  </ul>
  <h3 id="build">Build</h3>
  <p>The build configuration is created with CMake.<br>To create build configuration in this project, create a build directory in the project directory.<br>Then, in the build directory, use cmake command to create build configuraiton as below. </p>
  <div id="box1">
  <pre>   mkdir build 
   cd build 
   cmake ..</pre></div>
  <p>To build, execute:</p>
  <div id="box1">
  <pre>   make</pre></div>
  <p>Check that if the two programs are generated.  </p>
  <div id="box1">
  <pre>  GrossPitaevskiiFDM_run 
  GrossPitaevskiiFDM_tst </pre></div>
  <p>GrossPitaevskiiFDM_run is the main program and GrossPitaevskiiFDM_tst is the test program.<br>You can use GrossPitaevskiiFDM_tst to test the code and debug.<br>The test program should be run with MPI.</p>
  <div id="box1">
  <pre>   mpiexec -np 2 ./GrossPitaevskiiFDM_tst</pre></div>
  <h2 id="execution">Execution</h2>
  <h3 id="generate-configuration-file">Generate configuration file</h3>
  <p>In the inputs directory, there are three example configuration files.</p>
  <div id="box1">
  <pre>  benchmarking.inp
  example_single.inp
  example_sweep.inp</pre></div>
  <p>If you want to run the codes in a single condition(initial condition, potential, parameter g), use example_single.inp as a template.<br>There are following parameters to set. </p>
  <ul>
  <li>Main Configuration </li>
  <li>Domain Configuration </li>
  <li>Initial Condition Configuration </li>
  <li>Equation Configuration </li>
  <li>Solver Configuration</li>
  </ul>
  <p>For the details, refer to the code decription. #TODO<br>Especially, if you want to use GPU to accelerate the execution, set parallel as true and set cuda_device = {device number} in Solver Configuration.<br>For example, </p>
  <div id="box1">
  <pre>   parallel = true
   ...
   cuda_device = 0 </pre></div>
  <h3 id="execute-single-condition">Execute single condition</h3>
  <p>To execute the program, in the build directory run ./GrossPitaevskiiFDM_run with the generated configurated file. </p>
  <div id="box1">
  <pre>  {PATH_TO_PROGRAM}/GrossPitaevskiiFDM_run {PATH_TO_INPUT_CONFIGURATION}.inp</pre></div>
  <p>For example, </p>
  <div id="box1">
  <pre>  ./build/GrossPitaevskiiFDM_run ./inputs/example_single.inp</pre></div>
  <h3 id="execute-multiple-conditions-with-mpi">Execute multiple conditions with MPI</h3>
  <p>To execute the program, in the build directory run ./GrossPitaevskiiFDM_run with the generated configurated file. 
  If you want to execute the program with various condition parallely, use MPI.<br>You have to run the program with mpiexec and set the {PROCESSOR_NUMBER} which is the number of processors that you want to use.  </p>
  <div id="box1">
  <pre>  mpiexec -np {PROCESSOR_NUMBER} {PATH_TO_PROGRAM}/GrossPitaevskiiFDM_run {PATH_TO_INPUT_CONFIGURATION}.inp</pre></div>
  <p>For example, </p>
  <div id="box1">
  <pre>  mpiexec -np 4 ./build/GrossPitaevskiiFDM_run ./inputs/example_sweep.inp</pre></div>
  <h3 id="save-data">Save data</h3>
  <p>If you run the code with save_info=true, it creates new folder under results directory.       
    Time log is included in folder name. Also, if you run parallely, the folder name contains the rank of the processor executed the program.      
    If you want to manage folder name, give the string parameter that contains folder name in solve method in solver class.    
    For example, in results directory, following directory is created. </p>
  <div id="box1">
  <pre>  '2022-06-09-17-29-26_Crank_Nicolson_parallel_MPI&CUDA_0'</pre></div>
  <p>In the directory, txt file is generated for each time step. It contains the spatial grid info and wave function values(real and imaginary).</p>
  <h2 id="example-results">Example results</h2>
  <p></p>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
